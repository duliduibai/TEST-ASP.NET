@using VM_MVC.Models;
@model IEnumerable<GeneralMovieInfo>

@{ 
    PagingInfo pagingInfo = new PagingInfo
    {
        PageIndex = (int)ViewBag.PageIndex,
        RecordCount = (int)ViewBag.RecordCount
    };

    Func<int, UrlHelper, string> pageUrlAccessor = (Func<int, UrlHelper, string>)ViewBag.PageUrlAccessor;
}

@*<div class="paging">
    @Html.PageLinks(pagingInfo, pageIndex=>pageUrlAccessor(pageIndex, Url))
</div>*@

<ul class="products">
    @foreach (GeneralMovieInfo movie in this.Model)
    {
        <li>
            @Html.DisplayFor(m => movie)
        </li>
        <HR style="FILTER: alpha(opacity=100,finishopacity=0,style=2)" width="100%" color=#987cb9 SIZE=2>
    }
</ul>

<div class="paging">
    @Html.PageLinks(pagingInfo, pageIndex => pageUrlAccessor(pageIndex, Url))
</div>

